<div class="container mx-auto p-6 bg-gray-900 text-white rounded-lg shadow-lg mt-5">
  <h2 class="text-2xl font-bold text-center mb-6">🛠️ Éditeur de Workflow</h2>

  <div class="space-y-6">
    <div
      *ngFor="let step of workflow; let i = index"
      class="bg-gray-800 p-4 rounded-lg shadow-md"
    >
      <h3 class="text-lg font-semibold">{{ step.name }}</h3>
      <p class="text-sm text-gray-400">{{ step.description }}</p>

      <!-- Formulaire dynamique selon le type -->
      <div class="mt-4 space-y-3">
        <!-- Champs dynamiques -->
        <div *ngIf="step.url">
          <label class="block text-sm font-medium">URL</label>
          <input
            type="text"
            [(ngModel)]="step.url"
            class="w-full p-2 rounded-md bg-gray-700 text-white"
          />
        </div>

        <div *ngIf="step.prompt">
          <label class="block text-sm font-medium">Prompt IA</label>
          <input
            type="text"
            [(ngModel)]="step.prompt"
            class="w-full p-2 rounded-md bg-gray-700 text-white"
          />
        </div>

        <div *ngIf="step.body">
          <label class="block text-sm font-medium">Contenu de l'email</label>
          <input
            type="text"
            [(ngModel)]="step.body.content"
            class="w-full p-2 rounded-md bg-gray-700 text-white"
          />
        </div>

        <div *ngIf="step.body?.destinator">
          <label class="block text-sm font-medium">Destinataire</label>
          <input
            type="email"
            [(ngModel)]="step.body.destinator"
            class="w-full p-2 rounded-md bg-gray-700 text-white"
          />
        </div>

        <!-- Bouton de mise à jour -->
        <button
          (click)="updatePlaceholder(i, 'url', step.url)"
          class="bg-blue-500 px-4 py-2 text-white rounded-lg shadow-md hover:bg-blue-600 transition"
        >
          🔄 Mettre à jour
        </button>
      </div>
    </div>
  </div>

  <div class="mt-6 text-center">
    <button
      (click)="executeWorkflow()"
      class="bg-green-500 px-6 py-3 font-semibold text-white rounded-lg shadow-lg hover:bg-green-600 transition"
    >
      🚀 Exécuter le Workflow
    </button>
  </div>
</div>